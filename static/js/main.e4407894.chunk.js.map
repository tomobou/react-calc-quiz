{"version":3,"sources":["domain/QuizBook.tsx","components/QuizSelector.tsx","components/Questioner.tsx","components/AnswerResultsView.tsx","domain/AnswerResult.tsx","components/NumberSelector.tsx","index.tsx"],"names":["shuffle","arr","i","length","j","Math","random","swap","tasizan1","name","quizCount","quizs","Array","x","y","push","q","a","filter","quiz","slice","min","hikizan2","tasizan3","hikizan4","QuizSelector","props","quizButtons","remarks","color","quizBook","className","this","map","quizButton","index","style","backgroundColor","onClick","setQuizs","React","Component","Questioner","currentQuiz","whichQuiz","wrongCount","padStart","getGrade","results","wrongRate","reduce","sum","result","wrongGrade","avgLapTime","endTime","startTime","lapTimeGrade","toString","AnswerResultsView","totalLapTime","b","state","active","setState","sort","reverse","join","hiddenResult","src","process","alt","lapTime","wrongCountResult","lapTimeResult","toFixed","NumberSelector","allValues","_","numberTables","parseInt","values","value","Game","undefined","correctAnswerTime","Date","now","answerStartTime","handleStart","handleSelect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e4407894.chunk.js","sourcesContent":["import Quiz from '../domain/Quiz';\r\n\r\n\r\nexport interface QuizBook {\r\n    name: String,\r\n    quizs(quizCount?: number): Array<Quiz>\r\n}\r\n\r\nfunction shuffle<T>(arr: Array<T>): Array<T> {\r\n    for (var i = arr.length - 1; i > 0; i = 0 | i - 1) {\r\n        var j = 0 | Math.random() * (i + 1);\r\n        var swap = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = swap;\r\n    }\r\n    return arr;\r\n}\r\n\r\nclass Tasizan1 implements QuizBook {\r\n    name = \"10までのたしざん\"\r\n    quizs(quizCount?: number): Array<Quiz> {\r\n        let quizs = Array<Quiz>();\r\n        for (let x = 0; x < 10; x++) {\r\n            for (let y = 0; y < 10; y++) {\r\n                quizs.push({ q: `${x} + ${y} =`, a: (x + y) })\r\n            }\r\n        }\r\n        quizs = shuffle(quizs.filter(quiz => quiz.a <= 10));\r\n        return (quizCount) ? quizs.slice(0, Math.min(quizCount, quizs.length)) : quizs;\r\n    }\r\n}\r\nexport const tasizan1 = new Tasizan1();\r\n\r\nclass Hikizan2 implements QuizBook {\r\n    name = \"10から0までのひきざん\"\r\n    quizs(quizCount?: number): Array<Quiz> {\r\n        let quizs = Array<Quiz>();\r\n        for (let x = 0; x < 10; x++) {\r\n            for (let y = 0; y < 10; y++) {\r\n                quizs.push({ q: `${x} - ${y} =`, a: (x - y) })\r\n            }\r\n        }\r\n        quizs = shuffle(quizs.filter(quiz => quiz.a >= 0));\r\n        return (quizCount) ? quizs.slice(0, Math.min(quizCount, quizs.length)) : quizs;\r\n    }\r\n}\r\nexport const hikizan2 = new Hikizan2();\r\n\r\nclass Tasizan3 implements QuizBook {\r\n    name = \"くりあがりのあるたしざん\"\r\n    quizs(quizCount?: number): Array<Quiz> {\r\n        let quizs = Array<Quiz>();\r\n        for (let x = 0; x < 10; x++) {\r\n            for (let y = 0; y < 10; y++) {\r\n                quizs.push({ q: `${x} + ${y} =`, a: (x + y) })\r\n            }\r\n        }\r\n        quizs = shuffle(quizs.filter(quiz => quiz.a > 10));\r\n        return (quizCount) ? quizs.slice(0, Math.min(quizCount, quizs.length)) : quizs;\r\n    }\r\n}\r\nexport const tasizan3 = new Tasizan3();\r\n\r\nclass Hikizan4 implements QuizBook {\r\n    name = \"くりさがりのあるひきざん\"\r\n    quizs(quizCount?: number): Array<Quiz> {\r\n        let quizs = Array<Quiz>();\r\n        for (let x = 11; x < 20; x++) {\r\n            for (let y = 0; y < 10; y++) {\r\n                quizs.push({ q: `${x} - ${y} =`, a: (x - y) })\r\n            }\r\n        }\r\n        quizs = shuffle(quizs.filter(quiz => quiz.a < 9));\r\n        return (quizCount) ? quizs.slice(0, Math.min(quizCount, quizs.length)) : quizs;\r\n    }\r\n}\r\nexport const hikizan4 = new Hikizan4();\r\n","import React from 'react';\r\nimport Quiz from '../domain/Quiz';\r\nimport { QuizBook, tasizan1, hikizan2, tasizan3, hikizan4 } from '../domain/QuizBook';\r\n\r\ninterface QuizButton {\r\n    name: string,\r\n    remarks?: string,\r\n    color: string,\r\n    quizCount?: number,\r\n    quizBook: QuizBook\r\n}\r\n\r\ninterface QuizSelectorProps {\r\n    setQuizs: (quizs: Array<Quiz>) => void\r\n}\r\n\r\nexport default class QuizSelector extends React.Component<QuizSelectorProps> {\r\n    private quizButtons = Array<QuizButton>();\r\n    constructor(props: QuizSelectorProps | Readonly<QuizSelectorProps>) {\r\n        super(props);\r\n        this.quizButtons.push({ name: \"れんしゅう\", remarks: \"３もん\", color:\"#D8898A\", quizBook: tasizan1, quizCount: 3 });\r\n        this.quizButtons.push({ name: \"たしざん１\", remarks: \"ぜんぶ\", color:\"#D8898A\", quizBook: tasizan1 });\r\n        this.quizButtons.push({ name: \"ひきざん２\", remarks: \"５もん\", color:\"#84B7DC\", quizBook: hikizan2, quizCount: 5 });\r\n        this.quizButtons.push({ name: \"ひきざん２\", remarks: \"ぜんぶ\", color:\"#84B7DC\", quizBook: hikizan2 });\r\n        this.quizButtons.push({ name: \"たしざん３\", remarks: \"５もん\", color:\"#F8BA62\", quizBook: tasizan3, quizCount: 5 });\r\n        this.quizButtons.push({ name: \"たしざん３\", remarks: \"ぜんぶ\", color:\"#F8BA62\", quizBook: tasizan3 });\r\n        this.quizButtons.push({ name: \"ひきざん４\", remarks: \"５もん\", color:\"#86A884\", quizBook: hikizan4, quizCount: 5 });\r\n        this.quizButtons.push({ name: \"ひきざん４\", remarks: \"ぜんぶ\", color:\"#86A884\", quizBook: hikizan4 });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"questioner\">\r\n                <h5>もんだいをえらんでね！</h5>\r\n                <div className='question-select'>\r\n                    {this.quizButtons.map((quizButton, index) => {\r\n                        return (\r\n                            <div key={\"question-select-item-\" + index} className=\"question-select-item\" style={{ backgroundColor: quizButton.color}}\r\n                              onClick={() => this.props.setQuizs(quizButton.quizBook.quizs(quizButton.quizCount))}>\r\n                                <div className=\"question-select-item-name\">{quizButton.name}</div>\r\n                                <div className=\"question-select-item-remarks\">{quizButton.remarks}</div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    )}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Quiz from '../domain/Quiz';\r\nimport QuizSelector from '../components/QuizSelector';\r\n\r\ninterface QuestionerProps {\r\n    quizs: Quiz[],\r\n    currentQuiz?: Quiz,\r\n    whichQuiz: number,\r\n    setQuizs: (quizs: Quiz[]) => void\r\n    wrongCount: number\r\n}\r\n\r\nexport default class Questioner extends React.Component<QuestionerProps> {\r\n    render() {\r\n        if (this.props.currentQuiz) {\r\n            return (\r\n                <div className=\"questioner\">\r\n                    <h5>\r\n                        {this.props.whichQuiz + 1}問目（ぜんぶで {this.props.quizs.length} 問）\r\n                    </h5>\r\n                    <div className=\"question-content\">\r\n                        {this.props.currentQuiz && this.props.currentQuiz.q}\r\n                        {this.props.wrongCount > 0 && <div className='shake'>{\"\".padStart(this.props.wrongCount, \"×\")}</div>}\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <QuizSelector setQuizs={(quizs) => this.props.setQuizs(quizs)}></QuizSelector>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {AnswerResult, getTotalLapTime} from '../domain/AnswerResult';\r\n\r\ninterface AnswerResultsViewProps {\r\n    results: AnswerResult[]\r\n}\r\ninterface AnswerResultsViewStates {\r\n    active: string\r\n}\r\nfunction getGrade(results:AnswerResult[]):string{\r\n    const wrongRate = results.reduce((sum,result)=>sum+=result.wrongCount>0?1:0,0)/ results.length*100;\r\n    let wrongGrade = 5;\r\n    if(wrongRate<=5){\r\n        wrongGrade = 5;\r\n    }else if(wrongRate<=15){\r\n        wrongGrade = 4;\r\n    }else if(wrongRate<=20){\r\n        wrongGrade = 3;\r\n    }else if(wrongRate<=30){\r\n        wrongGrade = 2;\r\n    }else {\r\n        wrongGrade = 1;\r\n    }\r\n    //console.log(\"wrongRate,Grade=\"+ wrongRate + \",\" + wrongGrade)\r\n\r\n    const avgLapTime = results.reduce((sum,result)=>sum+=result.endTime!!-result.startTime!!,0)/ results.length;\r\n    let lapTimeGrade = 5;\r\n    if(avgLapTime<=1200){\r\n        lapTimeGrade = 5;\r\n    }else if(avgLapTime<=2000){\r\n        lapTimeGrade = 4;\r\n    }else if(avgLapTime<=5000){\r\n        lapTimeGrade = 3;\r\n    }else if(avgLapTime<=7000){\r\n        lapTimeGrade = 2;\r\n    }else {\r\n        lapTimeGrade = 1;\r\n    }\r\n    //console.log(\"avgLapTime,Grade=\"+ avgLapTime + \",\" + lapTimeGrade)\r\n\r\n    return Math.min(wrongGrade,lapTimeGrade).toString();\r\n}\r\n\r\nexport default class AnswerResultsView extends React.Component<AnswerResultsViewProps, AnswerResultsViewStates> {\r\n    private totalLapTime = getTotalLapTime(this.props.results);\r\n    constructor(props: AnswerResultsViewProps | Readonly<AnswerResultsViewProps>) {\r\n        super(props);\r\n        this.state = {\r\n            active:\"\"\r\n        };\r\n    }\r\n    hiddenResult(){\r\n        this.setState({active: \"hidden\"});\r\n    }\r\n    render() {\r\n        const results = this.props.results.sort((a, b) => (a.wrongCount - b.wrongCount === 0) ? (a.endTime!! - a.startTime!!) - (b.endTime!! - b.startTime!!) : (a.wrongCount - b.wrongCount)).reverse();\r\n\r\n        return (\r\n            <div className={['answer-result', this.state.active].join(' ')} onClick={()=>this.hiddenResult()}>\r\n                <div>しゅうりょうー</div>\r\n                <div>{this.totalLapTime / 1000}秒でできたよ。</div>\r\n                <img src={`${process.env.PUBLIC_URL}/img/grade${getGrade(results)}.png`} alt=\"grade\"/>\r\n                <table className=\"answer-results-view\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>問題</th>\r\n                            <th>間違えた数</th>\r\n                            <th>回答時間</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {results.map((result,index) => {\r\n                            const lapTime = (result.endTime!! - result.startTime!!);\r\n                            const wrongCountResult = result.wrongCount > 0 ? \"red\" : \"\";\r\n                            const lapTimeResult = lapTime <= 1200 ? \"\" : lapTime < 3000 ? \"yellow\" : \"red\";\r\n                            return (\r\n                                <tr key={\"answer-results-row-\" + index}>\r\n                                    <td>{result.quiz.q}</td>\r\n                                    <td className={['align-right', wrongCountResult].join(' ')}>{result.wrongCount}回</td>\r\n                                    <td className={['align-right', lapTimeResult].join(' ')}>{(lapTime / 1000).toFixed(3)}秒</td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import Quiz from '../domain/Quiz';\r\n\r\nexport interface AnswerResult {\r\n    quiz: Quiz,\r\n    wrongCount: number,\r\n    startTime?: number,\r\n    endTime?: number\r\n}\r\n\r\nexport function getTotalLapTime(results: AnswerResult[]): number {\r\n    return results.reduce((a, b) => a.endTime!! > b.endTime!! ? a : b).endTime!!\r\n        - results.reduce((a, b) => a.startTime!! < b.startTime!! ? a : b).startTime!!;\r\n}\r\n","import React from 'react';\r\n\r\ninterface NumberSelectorProps {\r\n    onClick: (value: string) => void\r\n}\r\n\r\nexport default class NumberSelector extends React.Component<NumberSelectorProps> {\r\n    render() {\r\n        let allValues = [...Array(21)].map((_, i) => i.toString());\r\n        let numberTables = Array<Array<string>>();\r\n        let a = 0;\r\n        let b = 0;\r\n        numberTables[a] = [];\r\n        for (let i = 0; i < allValues.length; i++) {\r\n            numberTables[a][b] = allValues[i];\r\n            b++;\r\n            if (parseInt(allValues[i]) % 5 === 0) {\r\n                a++;\r\n                numberTables[a] = [];\r\n                b = 0;\r\n            }\r\n        }\r\n        return (\r\n            <div className='number-selector'>\r\n                {numberTables.map((values,index) => {\r\n                    return (\r\n                        <div key={\"number-selector-row-\" + index} className=\"number-selector-row\">\r\n                            {values.map((value) => {\r\n                                return (\r\n                                    <button key={\"number-selector-item\" + value} className=\"number-selector-item\" onClick={() => this.props.onClick(value)}>{value}</button>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Quiz from './domain/Quiz';\nimport {AnswerResult} from './domain/AnswerResult';\nimport Questioner from './components/Questioner';\nimport AnswerResultsView from './components/AnswerResultsView';\nimport NumberSelector from './components/NumberSelector';\nimport './index.css';\n\ninterface GameProps { }\n\ninterface GameStates {\n    quizs: Quiz[],\n    results: AnswerResult[],\n    currentQuiz?: Quiz,\n    whichQuiz: number,\n    wrongCount: number,\n    startTime?: number,\n    endTime?: number\n}\n\nclass Game extends React.Component<GameProps, GameStates> {\n    constructor(props: GameProps | Readonly<GameProps>) {\n        super(props);\n        this.state = {\n            quizs: [],\n            results: [],\n            currentQuiz: undefined,\n            whichQuiz: -1,\n            wrongCount: 0\n        };\n    }\n    handleSelect(value: string) {\n        if (this.state.currentQuiz) {\n            if (this.state.currentQuiz.a === parseInt(value)) {\n                const correctAnswerTime = Date.now();\n                const results = this.state.results;\n                const answerStartTime = (results.length > 0) ? results[results.length - 1].endTime : this.state.startTime;\n                results.push({\n                    quiz: this.state.currentQuiz,\n                    wrongCount: this.state.wrongCount,\n                    startTime: answerStartTime,\n                    endTime: correctAnswerTime\n                })\n                if (this.state.whichQuiz + 1 === this.state.quizs.length) {\n                    this.setState(state => ({\n                        currentQuiz: undefined,\n                        results: results,\n                        whichQuiz: -1,\n                        endTime: Date.now(),\n                        wrongCount: 0\n                    }));\n                } else {\n                    this.setState(state => ({\n                        currentQuiz: this.state.quizs[this.state.whichQuiz + 1],\n                        results: results,\n                        whichQuiz: this.state.whichQuiz + 1,\n                        wrongCount: 0\n                    }));\n                }\n            } else {\n                this.setState(state => ({ wrongCount: this.state.wrongCount + 1 }));\n            }\n        }\n    }\n    handleStart(quizs: Array<Quiz>) {\n        this.setState(state => ({\n            quizs: quizs,\n            results: [],\n            currentQuiz: (quizs.length > 0) ? quizs[0] : undefined,\n            whichQuiz: 0,\n            startTime: Date.now(),\n            endTime: undefined\n        }));\n    }\n    render() {\n        return (\n            <div className=\"game\">\n                <Questioner quizs={this.state.quizs} currentQuiz={this.state.currentQuiz} whichQuiz={this.state.whichQuiz} setQuizs={(quizs) => this.handleStart(quizs)} wrongCount={this.state.wrongCount} />\n                <NumberSelector onClick={(value) => this.handleSelect(value)} />\n                {this.state.endTime && <AnswerResultsView results={this.state.results}/>}\n            </div>\n        )\n    }\n}\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}