{"version":3,"sources":["index.tsx"],"names":["NumberSelector","values","Array","map","_","i","toString","className","value","onClick","props","React","Component","Questioner","this","currentQuiz","whichQuiz","quizs","length","q","wrongCount","padStart","Game","quizLevel1","a","b","push","arr","j","Math","random","swap","shuffle","filter","quiz","state","undefined","parseInt","setState","endTime","Date","now","startTime","handleStart","handleSelect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0bc84144.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n\ninterface NumberSelectorProps {\n    onClick: (value: string) => void\n}\n\nclass NumberSelector extends React.Component<NumberSelectorProps> {\n    render() {\n        let values = [...Array(11)].map((_, i) => i.toString());\n        return (\n            <div className=\"number-selector-row\">\n                {values.map((value) => {\n                    return (\n                        <button key={\"number-selector-\" + value} className=\"number-selector\" onClick={() => this.props.onClick(value)}>{value}</button>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\ninterface QuestionerProps {\n    quizs: Quiz[],\n    currentQuiz?: Quiz,\n    whichQuiz: number,\n    onClick: (value: string) => void\n    wrongCount: number\n}\n\nclass Questioner extends React.Component<QuestionerProps> {\n    render() {\n        if(this.props.currentQuiz){\n        return(\n        <div className=\"questioner\">\n            <h3>\n                {this.props.whichQuiz+1}問目（ぜんぶで {this.props.quizs.length} 問）\n            </h3>\n            <div>\n                {this.props.currentQuiz && this.props.currentQuiz.q}\n                {this.props.wrongCount > 0 && <div className='shake'>{\"\".padStart(this.props.wrongCount,\"×\")}</div>}\n            </div>\n        </div>\n        )\n        }else{\n            return(\n                <div className=\"questioner\">\n                    <h3>もんだいをえらんでね！</h3>\n                    <button onClick={() => this.props.onClick(\"tasizan1\")}>たしざん１</button>\n                </div>\n                )\n        }\n    }\n}\n\n\n\nfunction shuffle<T>(arr: Array<T>):Array<T> {\n    for (var i = arr.length - 1; i > 0; i = 0 | i - 1) {\n        var j = 0 | Math.random() * (i + 1);\n        var swap = arr[i];\n        arr[i] = arr[j];\n        arr[j] = swap;\n    }\n    return arr;\n}\n\ninterface Quiz {\n  q: string,\n  a: number\n}\n\ninterface GameProps {\n\n}\ninterface GameStates {\n    quizs: Quiz[],\n    currentQuiz?: Quiz,\n    whichQuiz: number,\n    wrongCount: number,\n    startTime?: number,\n    endTime?: number\n}\n\n\nclass Game extends React.Component<GameProps, GameStates> {\n    constructor(props: GameProps | Readonly<GameProps>) {\n        super(props);\n\n        // 答えが10までのたしざん\n        let quizLevel1 = Array<Quiz>();\n        for(let a = 0; a < 10; a++){\n            for(let b = 0; b < 10; b++){\n                quizLevel1.push({q:`${a} + ${b} =`, a:(a+b)})\n            }\n        }\n        quizLevel1 = shuffle(quizLevel1.filter(quiz => quiz.a <= 10));\n\n        //quizLevel1 = quizLevel1.slice(0,3);// テスト用に3問にする\n        this.state = {\n            quizs: quizLevel1,\n            currentQuiz: undefined,\n            whichQuiz: -1,\n            wrongCount: 0\n        };\n    }\n    handleSelect(value: string) {\n        if(this.state.currentQuiz){  \n            if(this.state.currentQuiz.a === parseInt(value)) {\n                this.setState(state => ({wrongCount:0}));\n                if(this.state.whichQuiz+1 === this.state.quizs.length){\n                        this.setState(state => ({\n                            currentQuiz: undefined,\n                            whichQuiz: -1,\n                            endTime: Date.now()\n                        }));\n                    }else{\n                        this.setState(state => ({\n                            currentQuiz: this.state.quizs[this.state.whichQuiz+1],\n                            whichQuiz: this.state.whichQuiz + 1\n                        }));\n                    }\n            }else{\n                this.setState(state => ({wrongCount:this.state.wrongCount+1}));\n            }\n        }\n    }\n    handleStart(value: string){\n        this.setState(state => ({\n            currentQuiz: this.state.quizs[0],\n            whichQuiz: 0,\n            startTime: Date.now(),\n            endTime: undefined\n        }));\n    }\n    render() {\n\n        return (\n            <div className=\"game\">\n                <Questioner quizs={this.state.quizs} currentQuiz={this.state.currentQuiz} whichQuiz={this.state.whichQuiz} onClick={(value) => this.handleStart(value)} wrongCount={this.state.wrongCount}/>\n                <div>　{this.state.endTime && (this.state.endTime - this.state.startTime!!)/1000 + \"秒でできたよ。\"}</div>\n                <NumberSelector onClick={(value) => this.handleSelect(value)} />\n            </div>\n        )\n    }\n}\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}